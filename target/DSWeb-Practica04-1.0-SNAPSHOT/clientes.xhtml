<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:body>
        <div class="container">
            <h2>Crud Clientes</h2>

            <!-- Formulario para Crear o Editar Cliente -->
            <h:form>
                <h:outputLabel for="nombre" value="Nombre"/>
                <p:inputText id="nombre" value="#{clienteBean.cliente.nombre}" required="true"/>

                <h:outputLabel for="correo" value="Correo"/>
                <p:inputText id="correo" value="#{clienteBean.cliente.correo}" required="true"/>

                <h:outputLabel for="numero" value="Número"/>
                <p:inputText id="numero" value="#{clienteBean.cliente.numero}" required="true"/>

                <p:commandButton value="Guardar Cliente" action="#{clienteBean.crearCliente()}" icon="pi pi-save" styleClass="btn"/>
            </h:form>

            <!-- Mostrar Lista de Clientes -->
            <h:panelGroup rendered="#{not empty clienteBean.listaClientes}">
                <p:dataTable value="#{clienteBean.listaClientes}" var="cliente">
                    <p:column headerText="ID">
                        #{cliente.idCliente}
                    </p:column>
                    <p:column headerText="Nombre">
                        #{cliente.nombre}
                    </p:column>
                    <p:column headerText="Correo">
                        #{cliente.correo}
                    </p:column>
                    <p:column headerText="Número">
                        #{cliente.numero}
                    </p:column>
                    <p:column headerText="Acciones">
                        <p:commandButton value="Editar" action="#{clienteBean.seleccionarCliente(cliente)}" icon="pi pi-pencil"/>
                        <p:commandButton value="Eliminar" action="#{clienteBean.eliminarCliente(cliente)}" icon="pi pi-trash" onclick="return confirm('¿Seguro que deseas eliminar este cliente?');"/>
                    </p:column>
                </p:dataTable>
            </h:panelGroup>

        </div>
    </h:body>

</html>